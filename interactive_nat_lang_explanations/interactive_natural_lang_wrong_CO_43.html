<!DOCTYPE html>

<html lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Problem Solver Interface</title>
<style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f5f5f5;
            color: #333;
            line-height: 1.6;
        }

        .container {
            display: flex;
            width: 100%;
            height: 800px;
            border: 1px solid #ddd;
            background-color: white;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .left-panel {
            width: 40%;
            display: flex;
            flex-direction: column;
            border-right: 1px solid #ddd;
        }

        .right-panel {
            width: 60%;
            display: flex;
            flex-direction: column;
        }

        .problem-statement, .problem-understanding {
            padding: 20px;
            overflow-y: auto;
        }

        .problem-statement {
            height: 50%;
            border-bottom: 1px solid #ddd;
        }

        .problem-understanding {
            height: 50%;
        }
        
        .section-title {
            font-size: 1.4rem;
            font-weight: 600;
            margin-bottom: 15px;
            color: #2c3e50;
            border-bottom: 2px solid #3498db;
            padding-bottom: 5px;
            display: inline-block;
        }

        .debugger-controls {
            display: flex;
            padding: 10px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #ddd;
        }

        .btn {
            display: flex;
            align-items: center;
            justify-content: center;
            margin-right: 10px;
            padding: 8px 15px;
            border: none;
            border-radius: 4px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .btn:hover {
            opacity: 0.9;
        }

        .btn-play-pause {
            background-color: #2ecc71;
            color: white;
        }

        .btn-stop {
            background-color: #e74c3c;
            color: white;
        }

        .btn-prev, .btn-next {
            background-color: #3498db;
            color: white;
        }

        .btn i {
            margin-right: 5px;
        }

        .explanation-container {
            border: 1px solid #ddd;
            margin: 10px;
            border-radius: 4px;
        }

        .explanation-container {
            height: 100%;
            overflow-y: auto;
        }

        .highlight {
            padding: 0 3px;
            border-radius: 3px;
            font-weight: 500;
        }

        .step {
            padding: 10px;
            margin: 5px 0;
            border-radius: 4px;
            cursor: pointer;
            position: relative;
            border-left: 3px solid gray;
            transition: background-color 0.2s;
        }

        .step:hover {
            background-color: #f0f0f0;
        }

        .step.active {
            background-color: #fffacd;
            border-left: 3px solid #ffd700;
        }
        .formula {
            font-weight: bold;
            margin: 5px 0;
            display: inline;
        }

        .explanation-title {
            font-size: 1.2rem;
            font-weight: 600;
            margin-bottom: 10px;
            padding: 10px;
            background-color: #f8f9fa;
            border-bottom: 1px solid #ddd;
        }

        .step-content {
            margin-left: 15px;
        }

        .disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        .wrong-step {
            display: none;
        }

        /* Variable colors */
        .var-total-cars {
            background-color: rgba(255, 99, 71, 0.5);
        }
        .var-monday-cars {
            background-color: rgba(135, 206, 250, 0.5);
        }
        .var-tuesday-cars {
            background-color: rgba(144, 238, 144, 0.5);
        }
        .var-wednesday-thursday-cars {
            background-color: rgba(255, 165, 0, 0.5);
        }
        .var-monday-tuesday-total {
            background-color: rgba(221, 160, 221, 0.5);
        }
        .var-wednesday-cars {
            background-color: rgba(255, 215, 0, 0.5);
        }
        .var-wednesday-thursday-total {
            background-color: rgba(70, 130, 180, 0.5);
        }
        .var-monday-to-thursday-total {
            background-color: rgba(34, 139, 34, 0.5);
        }
        .var-remaining-days-total {
            background-color: rgba(255, 192, 203, 0.5);
        }
        .var-each-remaining-day {
            background-color: rgba(128, 0, 128, 0.5);
        }
    </style>
    </head>
    <body>
    <div class="wrong-step">6</div>
    <div class="container">
        <div class="left-panel">
            <div class="problem-statement">
                <div class="section-title">Problem Statement</div>
                <p>In a week, <span id="fact1"><span class="highlight var-total-cars">450 cars drove through a toll booth</span></span>. <span id="fact2"><span class="highlight var-monday-cars">Fifty vehicles went through the toll booth on Monday</span></span> and <span id="fact3"><span class="highlight var-tuesday-cars">the same number of vehicles drove through the toll booth on Tuesday</span></span>. On each of Wednesday and Thursday, <span id="fact4"><span class="highlight var-wednesday-thursday-cars">twice the number of cars that passed through the toll booth on Monday went through the toll booth</span></span>. If, for the remaining of the days of the week, an equal number of vehicles passed through the toll booth, calculate the total number of cars that passed the toll both in each of the remaining days.
                </p>
            </div>
            <div class="problem-understanding">
                <div class="section-title">Problem Understanding</div>
                <p><span class="highlight var-total-cars">Total cars in a week: 450</span></p>
                <p><span class="highlight var-monday-cars">Cars on Monday: 50</span></p>
                <p><span class="highlight var-tuesday-cars">Cars on Tuesday: 50</span></p>
                <p><span class="highlight var-wednesday-thursday-cars">Cars on Wednesday and Thursday: twice the number on Monday</span></p>
                <h3>What we need to find</h3>
                <p>The total number of cars that passed the toll both in each of the remaining days.</p>
            </div>
        </div>
        <div class="right-panel">
            <div class="debugger-controls">
                <button class="btn btn-play-pause" id="playPauseBtn">▶ Play</button>
                <button class="btn btn-stop" id="stopBtn">■ Stop</button>
                <button class="btn btn-prev" id="prevBtn">⤴ Previous Step</button>
                <button class="btn btn-next" id="nextBtn">⤵ Next Step</button>
            </div>
            <div class="explanation-container" id="explanationContainer">
                <div class="explanation-title">Step-by-Step Explanation</div>
                <div class="step" id="step1">
                    <div class="step-content">
                    Calculate the total number of cars that went through the toll booth on Monday and Tuesday: <div class="formula">Monday cars + Tuesday cars</div> = <span class="highlight var-monday-cars">50</span> + <span class="highlight var-tuesday-cars">50</span> = <span class="highlight var-monday-tuesday-total">100 cars</span>
                    </div>
                </div>
                <div class="step" id="step2">
                    <div class="step-content">
                    Calculate the number of cars that went through the toll booth on Wednesday: <div class="formula">2 × Monday cars</div> = 2 × <span class="highlight var-monday-cars">50</span> = <span class="highlight var-wednesday-cars">100 cars</span>
                    </div>
                </div>
                <div class="step" id="step3">
                    <div class="step-content">
                    Calculate the total number of cars that went through the toll booth on Wednesday and Thursday: <div class="formula">Wednesday cars + Thursday cars</div> = <span class="highlight var-wednesday-cars">100</span> + <span class="highlight var-wednesday-cars">100</span> = <span class="highlight var-wednesday-thursday-total">200 cars</span>
                    </div>
                </div>
                <div class="step" id="step4">
                    <div class="step-content">
                    Calculate the total number of cars that passed through the toll booth from Monday to Thursday: <div class="formula">Monday-Tuesday total + Wednesday-Thursday total</div> = <span class="highlight var-monday-tuesday-total">100</span> + <span class="highlight var-wednesday-thursday-total">200</span> = <span class="highlight var-monday-to-thursday-total">300 cars</span>
                    </div>
                </div>
                <div class="step" id="step5">
                    <div class="step-content">
                    Calculate the number of cars that went through the toll booth on the remaining days: <div class="formula">Total cars - Monday to Thursday total</div> = <span class="highlight var-total-cars">450</span> - <span class="highlight var-monday-to-thursday-total">300</span> = <span class="highlight var-remaining-days-total">150 cars</span>
                    </div>
                </div>
                <div class="step" id="step6">
                    <div class="step-content">
                    Calculate the number of cars that went through the toll booth on each of the remaining days: <div class="formula">Remaining days total ÷ 2</div> = <span class="highlight var-remaining-days-total">150</span> ÷ 2 = <span class="highlight var-each-remaining-day">75 cars</span>
                    </div>
                </div>
                <div class="step final-answer"><div class="step-content"><strong>Final Answer:</strong> <span class="highlight var-each-remaining-day">75</span></div></div>
            </div>
        </div>
    </div>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            // Elements
            const playPauseBtn = document.getElementById('playPauseBtn');
            const stopBtn = document.getElementById('stopBtn');
            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const steps = document.querySelectorAll('.step');
            const explanationContainer = document.getElementById('explanationContainer');
            const wrongStepIndex = parseInt(document.querySelector('.wrong-step').textContent) - 1;
            
            // State
            let currentStepIndex = -1;
            let isPlaying = false;
            let playInterval = null;
            let breakpointStep = null;
            
            // Initial state
            prevBtn.classList.add('disabled');
            
            
            // Functions
            function highlightStep(index) {
                // Remove active class from all steps
                steps.forEach(step => step.classList.remove('active'));
                
                if (index >= 0 && index < steps.length) {
                    // Add active class to current step
                    steps[index].classList.add('active');
                
                    // Update button states
                    prevBtn.classList.toggle('disabled', index === 0);
                    nextBtn.classList.toggle('disabled', index === steps.length - 1);
                    
                    // Update current step index
                    currentStepIndex = index;
                }
            }
            
            
            function playExplanation() {
                if (currentStepIndex >= steps.length - 1) {
                    // If at the end, start from beginning
                    currentStepIndex = -1;
                }
                
                isPlaying = true;
                playPauseBtn.innerHTML = '❚❚ Pause';
                
                // Clear any existing interval
                clearInterval(playInterval);
                
                // Start playing from next step
                playInterval = setInterval(() => {
                    const nextIndex = currentStepIndex + 1;
                    
                    if (nextIndex < steps.length) {
                        highlightStep(nextIndex);
                        
                    } else {
                        // End of steps, pause
                        pauseExplanation();
                    }
                }, 1500);
            }
            
            function pauseExplanation() {
                isPlaying = false;
                playPauseBtn.innerHTML = '▶ Play';
                clearInterval(playInterval);
            }
            
            function stopExplanation() {
                pauseExplanation();
                steps.forEach(step => step.classList.remove('active'));
                currentStepIndex = -1;
                prevBtn.classList.add('disabled');
                nextBtn.classList.remove('disabled');
                
                // Clear variables
                variableList.innerHTML = '';
            }
            
            function nextStep() {
                if (currentStepIndex < steps.length - 1) {
                    highlightStep(currentStepIndex + 1);
                }
            }
            
            function prevStep() {
                if (currentStepIndex > 0) {
                    highlightStep(currentStepIndex - 1);
                }
            }
            
            // Event Listeners
            playPauseBtn.addEventListener('click', function() {
                if (isPlaying) {
                    pauseExplanation();
                } else {
                    playExplanation();
                }
            });
            
            stopBtn.addEventListener('click', stopExplanation);
            
            prevBtn.addEventListener('click', function() {
                if (!prevBtn.classList.contains('disabled')) {
                    prevStep();
                }
            });
            
            nextBtn.addEventListener('click', function() {
                if (!nextBtn.classList.contains('disabled')) {
                    nextStep();
                }
            });
            
        });
    </script>
</body>
</html>